urlmuangay="/2016/12/mua-ngay.html",urlgiohang="/p/gio-hang.html",urlnewimg="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg6MLk_01qI7bbmaL7UkmJXOF9WlRIgBaTooLANtJoVHEBzYHA0o9b8bksfItRbBuVnSEUf4fn85AJWclpj53AIbv2i0-S-UEpQtMnWn-DBb6dUFpUC7mUIJyIBVoOjM5ckYTfx4qtGW1KZ/s29/new.gif",newimgwidth=29,newimgheight=19,sumtitle=35,numposts1=6,numposts5=5,newssumtitle=43,newssumposts=370,labelsumtitle=35,labelsumtitle2=20,renewstitle="Tin tức liên quan",relatedtitle="Sản phẩm liên quan";var purl=location.href,fb_href=purl.substring(0,purl.indexOf(".html")+5),fbcm='<div class="fb-comments" data-href="'+fb_href+'" data-num-posts="12" data-width="100%" colorscheme="light"></div>';function removeHtmlTag(e,t){for(var i=e.split("<"),n=0;n<i.length;n++)-1!=i[n].indexOf(">")&&(i[n]=i[n].substring(i[n].indexOf(">")+1,i[n].length));return(i=i.join("")).substring(0,t-1)}function flashsalerun(e){const[t,i,n]=e.split("/").map(Number),a=new Date(n,i-1,t).getTime(),r=setInterval((function(){const e=(new Date).getTime(),t=a-e,i=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),s=Math.floor(t%36e5/6e4),l=Math.floor(t%6e4/1e3);document.getElementById("days").innerHTML=i,document.getElementById("hours").innerHTML=n,document.getElementById("minutes").innerHTML=s,document.getElementById("seconds").innerHTML=l,console.log(t),t<0&&(clearInterval(r),document.getElementById("countdown").innerHTML="Flash Sale Đã Kết Thúc!",document.getElementsByClassName("discount")[0].style.display="none",window.stopgiamgia=0)}),1e3)}function tinhngay(e){const t=new Date(e),i=new Date-t;return daysDifference=Math.floor(i/864e5)}function displayRandomNumber(){const e=JSON.parse(localStorage.getItem("randomNumberData"))||{},t=e.lastUpdated?new Date(e.lastUpdated):null,i=new Date;if(!t||i-t>=30e4){const e=Math.floor(7*Math.random());return localStorage.setItem("randomNumberData",JSON.stringify({number:e,lastUpdated:i})),e}return randomIndex=e.number,randomIndex}function chitietsp(e,t,i){window.stopgiamgia=1;e.substring(7);var n="",a=(e=document.getElementById(e)).getElementsByTagName("img");1<=a.length&&(n='<img src="'+a[0].src+'"/>');var r=e.innerHTML.substring(e.innerHTML.indexOf("[giacu]")+7,e.innerHTML.indexOf("[/giacu]")),s=e.innerHTML.substring(e.innerHTML.indexOf("[giaban]")+8,e.innerHTML.indexOf("[/giaban]"));giavalue=r.replace(/,/gi,""),giagocvalue=s.replace(/,/gi,"");var l=parseInt(s.replace(/,/g,""));if(-1!=e.innerHTML.indexOf("[giacu]"))r=""+r,((parseInt(giagocvalue)-parseInt(giavalue))/parseInt(giagocvalue)*100).toFixed(0);else r="","0%";e.innerHTML.substring(e.innerHTML.indexOf("[tomtat]")+8,e.innerHTML.indexOf("[/tomtat]"));var o=e.innerHTML.substring(e.innerHTML.indexOf("[chitiet]")+9,e.innerHTML.indexOf("[/chitiet]"));e.innerHTML.substring(e.innerHTML.indexOf("[hot]")+5,e.innerHTML.indexOf("[/hot]"));tintuc=e.innerHTML.substring(e.innerHTML.indexOf("[tintuc]")+8,e.innerHTML.indexOf("[/tintuc]")),kythuat=-1!=e.innerHTML.indexOf("[kythuat]")?e.innerHTML.substring(e.innerHTML.indexOf("[kythuat]")+9,e.innerHTML.indexOf("[/kythuat]")):"Không có thông số kỹ thuật cho sản phẩm này",motangan=-1!=e.innerHTML.indexOf("[motangan]")?e.innerHTML.substring(e.innerHTML.indexOf("[motangan]")+10,e.innerHTML.indexOf("[/motangan]")):"";-1!=e.innerHTML.indexOf("[hot]")&&e.innerHTML.substring(e.innerHTML.indexOf("[hot]")+5,e.innerHTML.indexOf("[/hot]"));danhgia=-1!=e.innerHTML.indexOf("[danhgia]")?e.innerHTML.substring(e.innerHTML.indexOf("[danhgia]")+9,e.innerHTML.indexOf("[/danhgia]")):"Đang cập nhật",daban=-1!=e.innerHTML.indexOf("[daban]")?e.innerHTML.substring(e.innerHTML.indexOf("[daban]")+7,e.innerHTML.indexOf("[/daban]")):"",daban_txt="",""!=daban&&(daban_txt="<p class='inventory'>Đã bán: "+tinhngay(daban)+"</p>"),tinhtrang=-1!=e.innerHTML.indexOf("[tinhtrang]")?e.innerHTML.substring(e.innerHTML.indexOf("[tinhtrang]")+11,e.innerHTML.indexOf("[/tinhtrang]")):"Đang cập nhật",flashsale=-1!=e.innerHTML.indexOf("[flashsale]")?e.innerHTML.substring(e.innerHTML.indexOf("[flashsale]")+11,e.innerHTML.indexOf("[/flashsale]")):"14/11/2024",giamgia=-1!=e.innerHTML.indexOf("[giamgia]")?e.innerHTML.substring(e.innerHTML.indexOf("[giamgia]")+9,e.innerHTML.indexOf("[/giamgia]")):"";var c={};giamgia&&giamgia.split(",").forEach((function(e){var[t,i]=e.split("--");c[t.trim()]=i.trim()}));var d="";for(var u in console.log(c),n=0,k=displayRandomNumber(),console.log(k),c)if(c.hasOwnProperty(u)){if(n==k){const e=(l*(1-c[u]/100)).toLocaleString("vi-VN",{style:"currency",currency:"VND"});d+="Nhập "+u+" sẽ giảm giá "+c[u]+"% còn "+e+"<br>"}n+=1}flashshow="",giamgia&&(flashshow='<div id="countdown-timer">  <p>Flash Sale Kết Thúc Sau:</p>  <div id="countdown">    <span class="time-box"><span id="days">00</span><span class="label">Ngày</span></span>    <span class="time-box"><span id="hours">00</span><span class="label">Giờ</span></span>    <span class="time-box"><span id="minutes">00</span><span class="label">Phút</span></span>    <span class="time-box"><span id="seconds">00</span><span class="label">Giây</span></span>  </div>  <div class="discount">'+d+"</div></div>");var m='<div class="discount-code"><label for="discount-input">Mã giảm giá:</label><input type="text" id="discount-input" placeholder="Nhập mã giảm giá"><button onclick="applyDiscount('+l+')">Áp dụng</button></div><p id="discount-message" style="color: red; display: none;">Mã giảm giá không hợp lệ!</p>';window.applyDiscount=function(e){if(console.log(window.stopgiamgia),1==window.stopgiamgia){var t=document.getElementById("discount-input").value.trim();if(c.hasOwnProperty(t)){var i=parseFloat(c[t]),n=(e*(1-i/100)).toLocaleString("vi-VN",{style:"currency",currency:"VND"}).replace(/\./g,",");document.querySelector(".item_price").innerText=n;var a=document.querySelector(".item_name"),r=a.getAttribute("data-original-name")||a.innerText;a.setAttribute("data-original-name",r),a.innerText=r+" - Mã giảm giá "+t+" ("+i+"%, giá gốc "+e.toLocaleString("vi-VN",{style:"currency",currency:"VND"}).replace(/\./g,",")+")"}document.getElementById("discount-message").style.display="none"}else document.getElementById("discount-message").style.display="block"},km=-1!=e.innerHTML.indexOf("[km]")?e.innerHTML.substring(e.innerHTML.indexOf("[km]")+4,e.innerHTML.indexOf("[/km]")):"Đang cập nhật ....",km=-1!=e.innerHTML.indexOf("[km]")?e.innerHTML.substring(e.innerHTML.indexOf("[km]")+4,e.innerHTML.indexOf("[/km]")):"Đang cập nhật ....",chinhsach=-1!=e.innerHTML.indexOf("[chinhsach]")?e.innerHTML.substring(e.innerHTML.indexOf("[chinhsach]")+11,e.innerHTML.indexOf("[/chinhsach]")):"Đang cập nhật";var p=e.getElementsByTagName("img").length,h='<div class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[0].src+'" data-zoom-image="'+a[0].src+'"><img alt="'+t+'" data-image="'+a[0].src+'" src="'+a[0].src+'" ></a></div>';p>1&&(h+='<div class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[1].src+'" data-zoom-image="'+a[0].src+'"><img alt="'+t+'" data-image="'+a[1].src+'" src="'+a[1].src+'" ></a></div>\t'),p>2&&(h+='<div class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[2].src+'" data-zoom-image="'+a[2].src+'"><img alt="'+t+'" data-image="'+a[2].src+'" src="'+a[2].src+'" ></a></div>\t'),p>3&&(h+='<div class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[3].src+'" data-zoom-image="'+a[3].src+'"><img alt="'+t+'" data-image="'+a[3].src+'" src="'+a[3].src+'" ></a></div>\t');p=e.getElementsByTagName("img").length;var g='<li class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[0].src+'" data-zoom-image="'+a[0].src+'"><img alt="Thép hình" data-image="'+a[0].src+'" src="'+a[0].src+'" ></a></li>';p>1&&(g+='<<li class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[1].src+'" data-zoom-image="'+a[1].src+'"><img alt="Thép hình" data-image="'+a[1].src+'" src="'+a[1].src+'" ></a></li>'),p>2&&(g+='<li class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[2].src+'" data-zoom-image="'+a[2].src+'"><img alt="Thép hình" data-image="'+a[2].src+'" src="'+a[2].src+'" ></a></li>\t'),p>3&&(g+='<li class="item product-thumb"><a href="javascript:void(0)" data-image="'+a[3].src+'" data-zoom-image="'+a[3].src+'"><img alt="Thép hình" data-image="'+a[3].src+'" src="'+a[3].src+'" ></a></li>\t'),e.innerHTML=-1!=e.innerHTML.indexOf("[tintuc]")?"<h1>"+t+'</h1><div class="content-page"><div class="clearfix"><p class="time pull-left">Đăng bởi:QTV</p><div class="socials pull-right"><div class="fb-like" data-layout="button" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div></div></div><div class="body-content">'+tintuc+"</div></div>":'<div  id="wrapper-detail" class="simpleCart_shelfItem"><div class="row"><a id="thumb" class="item_thumb" style="display:none"><img  src="'+a[0].src+'"></a><div class="col-sm-6 col-xs-12"><div id="surround"><div class="img-product"><img class=" product-image-feature hidden-xs" src="'+a[0].src+'" alt="'+t+'"></div><div class="thumb-mt20"><div id="sliderproduct" class="clearfix hidden-xs">'+h+'</div><div id="sliderproduct-mobile" class="visible-xs"><div class="slider-container "><ul class="slides clearfix">'+g+'</ul></div></div></div></div></div><div class="col-sm-6 col-xs-12 fix-mobile"><div class="product-title"><h1 class="item_name">'+t+'</h1></div><div class="product-price" id="price-preview"><span class="item_price">'+s+'₫</span></div><p class="inventory">Tình trạng: <strong>'+tinhtrang+"</strong></p>"+daban_txt+'<div id="add-item-form" action="/cart/add" method="post" class="variants clearfix"><div class="select-wrapper"><label>Số lượng : </label><input id="quantity" type="number" name="quantity" min="1" value="1" class="item-quantity item_quantity" /></div><div class="actions-btn"><a href="'+urlgiohang+'"><button id="add-to-cart"   class=" btn-add-cart btn-fix item_add" name="add"> Mua ngay </button></a></div></div> '+m+flashshow+'<div class="bonus"><p class="title">Khuyến mãi</p><ul class="bonus-list">'+km+'</ul></div></div><div class="col-xs-12"><div class="product-comment"><h4><span>Mô tả</span></h4><div id="mota"><div class="product-description-wrapper">'+o+"</div></div></div></div></div></div>",flashsalerun(flashsale)}
function relatedproduct(e){const container=document.getElementById('like');if(!container){console.error('Không tìm thấy vùng chứa cho sản phẩm liên quan: #like');return}
let htmlOutput='';const entries=e.feed.entry||[];const maxPosts=Math.min(relatednumposts,entries.length);const isNews=entries.length>0&&entries[0].content.$t.includes("[tintuc]");const retitle=isNews?renewstitle:relatedtitle;htmlOutput+=`<div class="title-line"><h4><span>${retitle}</span></h4></div><ul class="row clearfix content-product-list">`;for(let i=0;i<maxPosts;i++){const entry=entries[i];if(!entry)continue;const title=entry.title.$t;let link='';for(let j=0;j<entry.link.length;j++){if(entry.link[j].rel==='alternate'){link=entry.link[j].href;break}}
const content="content" in entry?entry.content.$t:("summary" in entry?entry.summary.$t:"");const getShortcode=(tag)=>{const startTag=`[${tag}]`;const endTag=`[/${tag}]`;if(content.includes(startTag)&&content.includes(endTag)){return content.substring(content.indexOf(startTag)+startTag.length,content.indexOf(endTag))}
return""};let overlayHtml='';const giamgia_string=getShortcode("giamgia");let giamgia_percent=0;if(giamgia_string){const first_discount_part=giamgia_string.split(',')[0].trim();if(first_discount_part.includes('--')){const percentage=first_discount_part.split('--')[1].trim();if(percentage&&!isNaN(percentage)){giamgia_percent=parseFloat(percentage);overlayHtml+=`<span class="product-status discount">Giảm ${giamgia_percent}%</span>`}}}
const tinhtrang=getShortcode("tinhtrang");if(tinhtrang){overlayHtml+=`<span class="product-status tinhtrang">${tinhtrang}</span>`}
const daban_date=getShortcode("daban");if(daban_date){overlayHtml+=`<span class="product-status daban">Đã bán: ${tinhngay(daban_date)}</span>`}
let priceHtml='';const giaGocString=getShortcode("giaban");const giaGocValue=giaGocString?parseInt(giaGocString.replace(/,/g,''),10):0;const formatCurrency=(value)=>{if(isNaN(value))return"Liên hệ";return value.toLocaleString('vi-VN')+'₫'};if(giamgia_percent>0&&giaGocValue>0){const giaMoiValue=Math.round(giaGocValue*(1-giamgia_percent/100));priceHtml=`<span class="new-price item_price">${formatCurrency(giaMoiValue)}</span>
                         <span class="old-price"><del>${formatCurrency(giaGocValue)}</del></span>`}else if(giaGocValue>0){priceHtml=`<span class="new-price item_price">${formatCurrency(giaGocValue)}</span>`}else{priceHtml=`<span class="new-price item_price">Liên hệ</span>`}
let imageSrc="https://bit.ly/hGWr7r";const imgTagMatch=content.match(/<img[^>]+src="([^">]+)"/);if(imgTagMatch&&imgTagMatch[1]){imageSrc=imgTagMatch[1].replace(/\/s[0-9]+(-c)?\//,'/w400-h225-c/')}
htmlOutput+=`
            <div class="col-xs-12 col-sm-6 col-md-4 simpleCart_shelfItem">
                <div class="product-loop">
                    <a href="${link}" class="product-image-container">
                        <img class="item_thumb" src="${imageSrc}" alt="${title}">
                        ${overlayHtml}
                    </a>
                    <div class="product-info clearfix">
                        <h3><a class="item_name" href="${link}">${title}</a></h3>
                        <p class="price">${priceHtml}</p>
                        <a href="${urlgiohang}" class="d-none">
                            <button type="submit" class="add-to-cart btn-fix item_add" name="add">Mua hàng</button>
                        </a>
                    </div>
                </div>
            </div>`}
htmlOutput+='</ul>';container.innerHTML=htmlOutput}
function renderProductItem(entry){const title=(entry&&entry.title&&entry.title.$t)?entry.title.$t:'Tiêu đề không có';let link='';if(entry.link){for(let i=0;i<entry.link.length;i++){if(entry.link[i].rel==='alternate'){link=entry.link[i].href;break}}}
const content="content" in entry?entry.content.$t:("summary" in entry?entry.summary.$t:"");const getShortcode=(tag)=>{const startTag=`[${tag}]`;const endTag=`[/${tag}]`;if(content.includes(startTag)&&content.includes(endTag)){return content.substring(content.indexOf(startTag)+startTag.length,content.indexOf(endTag))}
return""};let overlayHtml='';const giamgia_string=getShortcode("giamgia");let giamgia_percent=0;if(giamgia_string){const first_discount_part=giamgia_string.split(',')[0].trim();if(first_discount_part.includes('--')){const percentage=first_discount_part.split('--')[1].trim();if(percentage&&!isNaN(percentage)){giamgia_percent=parseFloat(percentage);overlayHtml+=`<span class="product-status discount">Giảm ${giamgia_percent}%</span>`}}}
const tinhtrang=getShortcode("tinhtrang");if(tinhtrang){overlayHtml+=`<span class="product-status tinhtrang">${tinhtrang}</span>`}
const daban_date=getShortcode("daban");if(daban_date){overlayHtml+=`<span class="product-status daban">Đã bán: ${tinhngay(daban_date)}</span>`}
let priceHtml='';const giaGocString=getShortcode("giaban");const giaGocValue=giaGocString?parseInt(giaGocString.replace(/,/g,''),10):0;const formatCurrency=(value)=>{if(isNaN(value))return"Liên hệ";return value.toLocaleString('vi-VN')+'₫'};if(giamgia_percent>0&&giaGocValue>0){const giaMoiValue=Math.round(giaGocValue*(1-giamgia_percent/100));priceHtml=`<span class="new-price item_price">${formatCurrency(giaMoiValue)}</span>
                     <span class="old-price"><del>${formatCurrency(giaGocValue)}</del></span>`}else if(giaGocValue>0){priceHtml=`<span class="new-price item_price">${formatCurrency(giaGocValue)}</span>`}else{priceHtml=`<span class="new-price item_price">Liên hệ</span>`}
let imageSrc="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhd6hRb8uI-t1hrf5z1RxcAD037Gr-8GT3l6i4r_2FJYIxypTlViNDf8cxwzXxUfAIyjJ2upQT3HykeFspb5wYwS7COmddSv18Dn9n0HKQvxEK80FaxbeWqoKUybE7AERbbCW7XdnFyd4ZB7TJ6xClLLsAI70DX3IFZK6xOVXe2eXhFfsiNoyN-CcJmz8Q/s320/logo%20DTC%20PNG-small.png";const imgTagMatch=content.match(/<img[^>]+src="([^">]+)"/);if(imgTagMatch&&imgTagMatch[1]){imageSrc=imgTagMatch[1].replace(/\/s[0-9]+(-c)?\//,'/w400-h225-c/')}
return `
      <li>
        <div class="col-xs-12 col-sm-12 col-md-12 simpleCart_shelfItem">
          <div class="product-loop">
            <a href="${link}" class="product-image-container">
              <img class="item_thumb lozad" data-src="${imageSrc}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="${title}">
              ${overlayHtml}
            </a>
            <div class="product-info clearfix">
              <h3><a href="${link}" class="item_name" title="${title}">${title}</a></h3>
              <p class="price">${priceHtml}</p>
              <a href="/p/gio-hang.html" class="d-none">
                <button type="submit" class="add-to-cart btn-fix item_add" name="add">Mua hàng</button>
              </a>
            </div>
          </div>
        </div>
      </li>
    `}
function renderNewsItem(entry){const title=(entry&&entry.title&&entry.title.$t)?entry.title.$t:'Tiêu đề không có';let link='';if(entry.link){for(let i=0;i<entry.link.length;i++){if(entry.link[i].rel==='alternate'){link=entry.link[i].href;break}}}
const content="content" in entry?entry.content.$t:("summary" in entry?entry.summary.$t:"");let imageSrc="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhd6hRb8uI-t1hrf5z1RxcAD037Gr-8GT3l6i4r_2FJYIxypTlViNDf8cxwzXxUfAIyjJ2upQT3HykeFspb5wYwS7COmddSv18Dn9n0HKQvxEK80FaxbeWqoKUybE7AERbbCW7XdnFyd4ZB7TJ6xClLLsAI70DX3IFZK6xOVXe2eXhFfsiNoyN-CcJmz8Q/s320/logo%20DTC%20PNG-small.png";const imgTagMatch=content.match(/<img[^>]+src="([^">]+)"/);if(imgTagMatch&&imgTagMatch[1]){imageSrc=imgTagMatch[1].replace(/\/s[0-9]+(-c)?\//,'/s320/')}
const newsSummary=content.includes("[tintuc]")?content.substring(content.indexOf("[tintuc]")+8,content.indexOf("[/tintuc]")):removeHtmlTag(content,150);return `
        <li>
            <div class="col-xs-12 col-sm-12">
                <div class="blog-loop clearfix">
                    <div class="blog-img pull-left col-12">
                        <a href="${link}">
                            <img class="lozad" data-src="${imageSrc}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="${title}">
                        </a>
                    </div>
                    <div class="blog-info pull-right col-12">
                        <h3><a href="${link}">${title}</a></h3>
                        <p>${removeHtmlTag(newsSummary, 150)}...</p>
                        <a href="${link}" class="readmore">Xem thêm</a>
                    </div>
                </div>
            </div>
        </li>
    `}
async function loadSimpleGridAsync(feedUrl,renderFunction,containerId){const container=document.getElementById(containerId);if(!container)return;try{const response=await fetch(feedUrl);if(!response.ok)throw new Error(`Lỗi mạng: ${response.statusText}`);const responseText=await response.text();const jsonString=responseText.substring(responseText.indexOf('{'),responseText.lastIndexOf('}')+1);const data=JSON.parse(jsonString);if(!data.feed||!data.feed.entry||data.feed.entry.length===0){container.innerHTML='<p style="text-align:center;">Không có bài viết nào.</p>';return}
let htmlOutput='';for(const entry of data.feed.entry){htmlOutput+=renderFunction(entry)}
container.innerHTML=htmlOutput;if(typeof lozad==='function'){const observer=lozad('#'+containerId+' .lozad');observer.observe()}}catch(error){console.error(`Lỗi khi tải dữ liệu cho ${containerId}:`,error);container.innerHTML='<p style="text-align:center;">Không thể tải nội dung.</p>'}}
async function loadAndFilterNewsSlider(feedUrl,renderFunction,containerId,maxItemsToDisplay){const container=document.getElementById(containerId);if(!container)return;try{const response=await fetch(feedUrl);if(!response.ok)throw new Error(`Lỗi mạng: ${response.statusText}`);const responseText=await response.text();const jsonString=responseText.substring(responseText.indexOf('{'),responseText.lastIndexOf('}')+1);const data=JSON.parse(jsonString);if(!data.feed||!data.feed.entry||data.feed.entry.length===0){container.innerHTML='<p style="text-align:center;">Không có bài viết nào.</p>';return}
let htmlOutput='<div class="slider-container-multiple"><ul class="slides clearfix">';let newsCount=0;for(const entry of data.feed.entry){if(newsCount>=maxItemsToDisplay)break;const content="content" in entry?entry.content.$t:("summary" in entry?entry.summary.$t:"");htmlOutput+=renderFunction(entry);newsCount++}
htmlOutput+='</ul></div>';if(newsCount===0){container.innerHTML='<p style="text-align:center;">Không tìm thấy tin tức nào trong các bài viết gần đây.</p>'}else{container.innerHTML=htmlOutput;if(jQuery&&jQuery.fn.flexslider){const slider=jQuery('#'+containerId+' .slider-container-multiple');if(slider.length>0){slider.flexslider({animation:"slide",animationLoop:!0,itemWidth:290,itemMargin:5,directionNav:!0,controlNav:!0})}}}
if(typeof lozad==='function'){const observer=lozad('#'+containerId+' .lozad');observer.observe()}}catch(error){console.error(`Lỗi khi tải và lọc tin tức cho ${containerId}:`,error);container.innerHTML='<p style="text-align:center;">Không thể tải nội dung.</p>'}}
function initializeLabelPage(){const postsContainer=document.getElementById('label-posts-container');const paginationContainer=document.getElementById('label-pagination-container');if(!postsContainer||!paginationContainer){return}
const homepageurl=blogHomepageUrl;const str=location.href;const urlParams=new URLSearchParams(window.location.search);let page=parseInt(urlParams.get('page')||'1');let labelName='';if(str.indexOf("search/label")!==-1){const pathParts=window.location.pathname.split('/');labelName=decodeURIComponent(pathParts[pathParts.length-1])}
const postsPerPage=12;const startIndex=(page-1)*postsPerPage+1;fetchAndDisplayLabelPosts(labelName,startIndex,postsPerPage)}
function fetchAndDisplayLabelPosts(label,start,count){const feedUrl=`/feeds/posts/default/-/${encodeURIComponent(label)}?start-index=${start}&max-results=${count}&orderby=published&alt=json-in-script&callback=displayLabelPage`;const script=document.createElement('script');script.src=feedUrl;document.body.appendChild(script)}
function displayLabelPage(json){const postsContainer=document.getElementById('label-posts-container');const paginationContainer=document.getElementById('label-pagination-container');let postsHtml='';const entries=json.feed.entry||[];if(entries.length>0){entries.forEach(entry=>{const title=entry.title.$t;let link='';for(let e=0;e<entry.link.length;e++){if(entry.link[e].rel=='alternate'){link=entry.link[e].href;break}}
const content="content" in entry?entry.content.$t:"summary" in entry?entry.summary.$t:"";const getShortcode=(tag)=>{const startTag=`[${tag}]`;const endTag=`[/${tag}]`;if(content.includes(startTag)&&content.includes(endTag)){return content.substring(content.indexOf(startTag)+startTag.length,content.indexOf(endTag))}
return""};let imageUrl="https://bit.ly/hGWr7r";const imgTagMatch=content.match(/<img[^>]+src="([^">]+)"/);if(imgTagMatch&&imgTagMatch[1]){imageUrl=imgTagMatch[1].replace(/\/s[0-9]+(-c)?\//,'/w400-h225-c/')}
let overlayHtml='';const giamgia_string=getShortcode("giamgia");let giamgia_percent=0;if(giamgia_string){const first_discount_part=giamgia_string.split(',')[0].trim();if(first_discount_part.includes('--')){const percentage=first_discount_part.split('--')[1].trim();if(percentage&&!isNaN(percentage)){giamgia_percent=parseFloat(percentage);overlayHtml+=`<span class="product-status discount">Giảm ${giamgia_percent}%</span>`}}}
const tinhtrang=getShortcode("tinhtrang");if(tinhtrang){overlayHtml+=`<span class="product-status tinhtrang">${tinhtrang}</span>`}
const daban_date=getShortcode("daban");if(daban_date){overlayHtml+=`<span class="product-status daban">Đã bán: ${tinhngay(daban_date)}</span>`}
if(content.indexOf("[giaban]")!==-1){let priceHtml='';const giaGocString=getShortcode("giaban");const giaGocValue=giaGocString?parseInt(giaGocString.replace(/,/g,''),10):0;const formatCurrency=(value)=>{if(isNaN(value))return"Liên hệ";return value.toLocaleString('vi-VN')+'₫'};if(giamgia_percent>0&&giaGocValue>0){const giaMoiValue=Math.round(giaGocValue*(1-giamgia_percent/100));priceHtml=`<span class="new-price item_price">${formatCurrency(giaMoiValue)}</span>
                                 <span class="old-price"><del>${formatCurrency(giaGocValue)}</del></span>`}else if(giaGocValue>0){priceHtml=`<span class="new-price item_price">${formatCurrency(giaGocValue)}</span>`}else{priceHtml=`<span class="new-price item_price">Liên hệ</span>`}
postsHtml+=`
                    <div class="col-xs-12 col-sm-6 col-md-4 simpleCart_shelfItem">
                        <div class="product-loop">
                            <a href="${link}" class="product-image-container">
                                <img class="item_thumb" src="${imageUrl}" alt="${title}" style="width:100%; height:auto;">
                                ${overlayHtml}
                            </a>
                            <div class="product-info clearfix">
                                <h3><a href="${link}" class="item_name">${title}</a></h3>
                                <p class="price">${priceHtml}</p>
                                <a href="/p/gio-hang.html" class="d-none"><button type="submit" class="add-to-cart btn-fix item_add" name="add">Mua hàng</button></a>
                            </div>
                        </div>
                    </div>`}else{const authpost=entry.author[0].name.$t;const postDay=new Date(entry.published.$t).toLocaleDateString('vi-VN');const tintuc_summary=removeHtmlTag(content,100);postsHtml+=`
                    <div class="col-xs-12 col-sm-6">
                        <div class="article-loop">
                            <div class="image">
                                <a href="${link}"><img src="${imageUrl}" alt="${title}" style="width:100%; height:auto;"></a>
                            </div>
                            <div class="info">
                                <h3><a href="${link}">${title}</a></h3>
                                <p class="time">Đăng bởi: ${authpost} - ${postDay}</p>
                                <p class="des">${tintuc_summary}...</p>
                                <a href="${link}" class="view-more">Đọc tiếp</a>
                            </div>
                        </div>
                    </div>`}})}else{postsHtml="<p style='text-align:center; width:100%;'>Không có bài viết nào trong chuyên mục này.</p>"}
postsContainer.innerHTML=postsHtml;const totalResults=parseInt(json.feed.openSearch$totalResults.$t,10);const postsPerPage=12;const totalPages=Math.ceil(totalResults/postsPerPage);const urlParams=new URLSearchParams(window.location.search);const currentPage=parseInt(urlParams.get('page')||'1');let paginationHtml='';if(totalPages>1){paginationHtml+='<div id="page-rc-tooltip">';if(currentPage>1){urlParams.set('page',currentPage-1);paginationHtml+=`<a class="pagelink" href="?${urlParams.toString()}">Trang trước</a>`}
for(let i=1;i<=totalPages;i++){if(i===currentPage){paginationHtml+=`<span class="currentpage">${i}</span>`}else{urlParams.set('page',i);paginationHtml+=`<a class="pagelink" href="?${urlParams.toString()}">${i}</a>`}}
if(currentPage<totalPages){urlParams.set('page',currentPage+1);paginationHtml+=`<a class="pagelink" href="?${urlParams.toString()}">Trang sau</a>`}
paginationHtml+='</div>'}
paginationContainer.innerHTML=paginationHtml}
document.addEventListener('DOMContentLoaded',initializeLabelPage);function loadLatestPosts(json){labeltintuc02(json,'latest-posts-widget')}
function loadLegalDocs(json){labeltintuc02(json,'legal-docs-widget')}
function loadFooterPosts(json){labeltintuc02(json,'latest-posts-footer')}
async function loadContentAsync(feedUrl,renderFunction,containerId){const container=document.getElementById(containerId);if(!container){console.error(`Không tìm thấy container với ID: ${containerId}`);return}
try{const response=await fetch(feedUrl);if(!response.ok){throw new Error(`Lỗi mạng: ${response.statusText}`)}
const responseText=await response.text();const jsonString=responseText.substring(responseText.indexOf('{'),responseText.lastIndexOf('}')+1);const data=JSON.parse(jsonString);if(!data.feed||!data.feed.entry||data.feed.entry.length===0){container.innerHTML='<p style="text-align:center;">Không có bài viết nào để hiển thị.</p>';return}
let htmlOutput='';htmlOutput+='<div class="slider-container-multiple"><ul class="slides clearfix">';for(const entry of data.feed.entry){htmlOutput+=renderFunction(entry)}
htmlOutput+='</ul></div>';container.innerHTML=htmlOutput;if(jQuery&&jQuery.fn.flexslider){const slider=jQuery('#'+containerId+' .slider-container-multiple');if(slider.length>0){slider.flexslider({animation:"slide",animationLoop:!0,itemWidth:290,itemMargin:5,directionNav:!0,controlNav:!0})}}
if(typeof lozad==='function'){const observer=lozad('#'+containerId+' .lozad');observer.observe()}}catch(error){console.error(`Lỗi khi tải dữ liệu cho ${containerId}:`,error);container.innerHTML='<p style="text-align:center;">Không thể tải được nội dung. Vui lòng thử lại sau.</p>'}}
function labelproduct02(json,containerId){const container=document.getElementById(containerId);if(!container)return;let htmlOutput='';const entries=json.feed.entry||[];const maxPosts=Math.min(20,entries.length);for(var t=0;t<maxPosts;t++){var i,n=entries[t],r=n.title.$t;for(var l=0;l<n.link.length;l++){if("alternate"==n.link[l].rel){i=n.link[l].href;break}}
var content="content" in n?n.content.$t:"summary" in n?n.summary.$t:"";var giaban=-1!=content.indexOf("[giaban]")?content.substring(content.indexOf("[giaban]")+8,content.indexOf("[/giaban]")):"";var img_s=content.indexOf("<img");var img_e=content.indexOf("src=\"",img_s);var img_e2=content.indexOf("\"",img_e+5);var img_url=(img_s!=-1&&img_e!=-1&&img_e2!=-1)?content.substring(img_e+5,img_e2):"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhd6hRb8uI-t1hrf5z1RxcAD037Gr-8GT3l6i4r_2FJYIxypTlViNDf8cxwzXxUfAIyjJ2upQT3HykeFspb5wYwS7COmddSv18Dn9n0HKQvxEK80FaxbeWqoKUybE7AERbbCW7XdnFyd4ZB7TJ6xClLLsAI70DX3IFZK6xOVXe2eXhFfsiNoyN-CcJmz8Q/s160/logo%20DTC%20PNG-small.png";htmlOutput+=`
          <div class="item clearfix">
            <div class="item-img">
              <a class="product-image img-small" href="${i}" title="${r}">
                <img src="${img_url}" alt="${r}">
              </a>
            </div>
            <div class="item-info">
              <div class="item-title">
                <a href="${i}" title="${r}">${removeHtmlTag(r, labelsumtitle2)}</a>
              </div>
              <div class="special-price">
                <span class="price">${giaban}₫</span>
              </div>
            </div>
          </div>
        `}
container.innerHTML=htmlOutput}
function labeltintuc(json,containerId){const container=document.getElementById(containerId);if(!container){console.error('Không tìm thấy vùng chứa cho slider tin tức: #'+containerId);return}
let htmlOutput='';const logoURL="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhd6hRb8uI-t1hrf5z1RxcAD037Gr-8GT3l6i4r_2FJYIxypTlViNDf8cxwzXxUfAIyjJ2upQT3HykeFspb5wYwS7COmddSv18Dn9n0HKQvxEK80FaxbeWqoKUybE7AERbbCW7XdnFyd4ZB7TJ6xClLLsAI70DX3IFZK6xOVXe2eXhFfsiNoyN-CcJmz8Q/s320/logo%20DTC%20PNG-small.png";htmlOutput+='<div class="slider-container-multiple"><ul class="slides clearfix">';const entries=json.feed.entry||[];for(const entry of entries){const title=entry.title.$t;let link='';for(let i=0;i<entry.link.length;i++){if(entry.link[i].rel==='alternate'){link=entry.link[i].href;break}}
const content="content" in entry?entry.content.$t:"summary" in entry?entry.summary.$t:"";const startTag="[tintuc]";const endTag="[/tintuc]";const startIdx=content.indexOf(startTag);const endIdx=content.indexOf(endTag);if(startIdx===-1||endIdx===-1)continue;const tintucSummary=content.substring(startIdx+startTag.length,endIdx);let imageSrc=logoURL;const imgTagMatch=content.match(/<img[^>]+src="([^">]+)"/);if(imgTagMatch&&imgTagMatch[1]){imageSrc=imgTagMatch[1].replace(/\/s[0-9]+(-c)?\//,'/s320/')}
htmlOutput+=`
            <li>
                <div class="col-xs-12 col-sm-12">
                    <div class="blog-loop clearfix">
                        <div class="blog-img pull-left col-12">
                            <a href="${link}">
                                <img class="lozad" data-src="${imageSrc}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="${title}">
                            </a>
                        </div>
                        <div class="blog-info pull-right col-12">
                            <h3><a href="${link}">${title}</a></h3>
                            <p>${removeHtmlTag(tintucSummary, 150)}...</p>
                            <a href="${link}" class="readmore">Xem thêm</a>
                        </div>
                    </div>
                </div>
            </li>
        `}
htmlOutput+='</ul></div>';container.innerHTML=htmlOutput;if(jQuery&&jQuery.fn.flexslider){const slider=jQuery('#'+containerId+' .slider-container-multiple');if(slider.length>0){slider.flexslider({animation:"slide",animationLoop:!0,itemWidth:290,itemMargin:5,directionNav:!0,controlNav:!0})}}}
function labeltintuc02(json,containerId){const container=document.getElementById(containerId);if(!container){console.error('Không tìm thấy vùng chứa: #'+containerId);return}
let htmlOutput='';const maxpost=json.feed.entry.length;for(var t=0;t<maxpost;t++){var i,n=json.feed.entry[t],r=n.title.$t;if(t==json.feed.entry.length)break;for(var l=0;l<n.link.length;l++){if("alternate"==n.link[l].rel){i=n.link[l].href;break}}
const postdate=n.published.$t;const p=postdate.split("-")[2].substring(0,2);const h=postdate.split("-")[1];const g=postdate.split("-")[0];const displayDate=p+"/"+h+"/"+g;htmlOutput+=`
            <div class="blog-item">
                <div class="item-title">
                    <span class="icon">• </span>
                    <a href="${i}">${r}</a>
                </div>
                <p class="time">Ngày đăng ${displayDate}</p>
            </div>
        `}
container.innerHTML=htmlOutput}
function Cart(){var e=this;e.nextId=1,e.Version="2.2",e.Shelf=null,e.items={},e.isLoaded=!1,e.pageIsReady=!1,e.quantity=0,e.total=0,e.taxRate=0,e.taxCost=0,e.shippingFlatRate=0,e.shippingTotalRate=0,e.shippingQuantityRate=0,e.shippingRate=0,e.shippingCost=0,e.currency=VND,e.checkoutTo=PayPal,e.email="congngheazawebsite@gmail.com",e.merchantId="",e.successUrl="http://congngheazawebsite.com/",e.cancelUrl=null,e.entry="",e.entryURL="",e.entryDelete=!1,e.cookieDuration=30,e.storagePrefix="sc_",e.MAX_COOKIE_SIZE=4e3,e.cartHeaders=["thumb_image","Name","Price","decrement","Quantity","increment","total","Remove"],1==e.entryDelete&&(this.items={}),e.add=function(e){var t=this;t.pageIsReady||(t.initializeView(),t.update()),t.isLoaded||(t.load(),t.update());var i=new CartItem;if(!arguments||0===arguments.length)return null;var n=arguments;if(e&&"string"!=typeof e&&"number"!=typeof e&&(n=e),i.parseValuesFromArray(n),i.checkQuantityAndPrice(),t.hasItem(i)){var a=t.hasItem(i);a.quantity=parseInt(a.quantity,10)+parseInt(i.quantity,10),i=a}else t.items[i.id]=i;return t.update(),$("html, body").animate({scrollTop:0},1e3),i},e.remove=function(t){var i={};e.each((function(e){e.id!==t&&(i[e.id]=e)})),this.items=i},e.empty=function(){simpleCart.items={},simpleCart.update()},e.find=function(t){if(!t)return null;var i=[];return e.each((function(n,a,r){fits=!0,e.each(t,(function(e,t,i){n[i]&&n[i]==e||(fits=!1)})),fits&&i.push(n)})),0===i.length?null:i},e.each=function(t,i){var n,a=0;if("function"==typeof t){var r=t;s=e.items}else{if("function"!=typeof i)return;r=i;var s=t}for(n in s)if("function"!=typeof s[n]){if(!1===r.call(e,s[n],a,n))return;a++}},e.chunk=function(e,t){return void 0===t&&(t=2),e.match(RegExp(".{1,"+t+"}","g"))||[]},e.checkout=function(){if(0!==simpleCart.quantity)switch(simpleCart.checkoutTo){case PayPal:simpleCart.paypalCheckout();break;case GoogleCheckout:simpleCart.googleCheckout();break;case Email:simpleCart.emailCheckout();break;default:simpleCart.customCheckout()}else error("Cart is empty")},e.paypalCheckout=function(){var e,t=this,i="https://www.paypal.com/cgi-bin/webscr?cmd=_cart&upload=1&business="+t.email+"&currency_code="+t.currency,n=1,a="";t.taxRate&&(i=i+"&tax_cart="+t.currencyStringForPaypalCheckout(t.taxCost)),t.each((function(i,r){n=r+1,e="",t.each(i,(function(t,i,n){"id"!==n&&"price"!==n&&"quantity"!==n&&"name"!==n&&"shipping"!==n&&(e=e+", "+n+"="+t)})),e=e.substring(2),a=a+"&item_name_"+n+"="+i.name+"&item_number_"+n+"="+n+"&quantity_"+n+"="+i.quantity+"&amount_"+n+"="+t.currencyStringForPaypalCheckout(i.price)+"&on0_"+n+"=Options&os0_"+n+"="+e})),0!==t.shipping()&&(a=a+"&shipping="+t.currencyStringForPaypalCheckout(t.shippingCost)),t.successUrl&&(a=a+"&return="+t.successUrl),t.cancelUrl&&(a=a+"&cancel_return="+t.cancelUrl),i+=a,window.open(i,"paypal","scrollbars,location,resizable,status")},e.googleCheckout=function(){var e=this;if(e.currency===USD||e.currency===GBP)if(""!==e.merchantId&&null!==e.merchantId&&e.merchantId){var t,i=document.createElement("form"),n=1;i.style.display="none",i.method="POST",i.action="https://checkout.google.com/api/checkout/v2/checkoutForm/Merchant/"+e.merchantId,i.acceptCharset="utf-8",e.each((function(a,r){n=r+1,i.appendChild(e.createHiddenElement("item_name_"+n,a.name)),i.appendChild(e.createHiddenElement("item_quantity_"+n,a.quantity)),i.appendChild(e.createHiddenElement("item_price_"+n,a.price)),i.appendChild(e.createHiddenElement("item_currency_"+n,e.currency)),i.appendChild(e.createHiddenElement("item_tax_rate_"+n,e.taxRate)),i.appendChild(e.createHiddenElement("_charset_","")),t="",e.each(a,(function(e,i,n){"id"!==n&&"quantity"!==n&&"price"!==n&&(t=t+", "+n+": "+e)})),t=t.substring(1),i.appendChild(e.createHiddenElement("item_description_"+n,t))})),0!==e.shipping()&&(i.appendChild(e.createHiddenElement("ship_method_name_1","Shipping")),i.appendChild(e.createHiddenElement("ship_method_price_1",parseFloat(e.shippingCost).toFixed(2))),i.appendChild(e.createHiddenElement("ship_method_currency_1",e.currency))),document.body.appendChild(i),i.submit(),document.body.removeChild(i)}else error("No merchant Id for google checkout supplied.");else error("Google Checkout only allows the USD and GBP for currency.")},e.emailCheckout=function(){this.entryURL="'+urlmuangay+'",window.open(this.entryURL,"_parent")},e.customCheckout=function(){var e=this,t="https://www.nganluong.vn/button_payment.php?receiver="+e.email,i="",n=0;e.each((function(e,t){""==i?i="&product_name="+e.name:i+=" , "+e.name,n+=e.price*e.quantity,e.quantity>1&&(i+=" x "+e.quantity)})),n="&price="+n,e.successUrl&&(i=i+"&return_url="+e.successUrl),t=t+encodeURI(i)+n+"&comments=Thanh%20to%C3%A1n%20%C4%91%E1%BA%B7t%20h%C3%A0ng%20tr%E1%BB%B1c%20tuy%E1%BA%BFn",window.open(t,"Ngan Luong","scrollbars,location,resizable,status")},e.load=function(){var e=this;if(e.items={},e.total=0,e.quantity=0,readCookie(simpleCart.storagePrefix+"simpleCart_chunks")){var t,i,n=1*readCookie(simpleCart.storagePrefix+"simpleCart_chunks"),a=[],r="",s=0;if(n>0){for(s=0;s<n;s++)a.push(readCookie(simpleCart.storagePrefix+"simpleCart_"+(1+s)));r=unescape(a.join("")).split("++")}for(var l=0,o=r.length;l<o;l++)t=r[l].split("||"),(i=new CartItem).parseValuesFromArray(t)&&(i.checkQuantityAndPrice(),e.items[i.id]=i)}e.isLoaded=!0},e.save=function(){var t,i,n="";i=1*readCookie(simpleCart.storagePrefix+"simpleCart_chunks");for(var a=0;a<i;a++)eraseCookie(simpleCart.storagePrefix+"simpleCart_"+a);eraseCookie(simpleCart.storagePrefix+"simpleCart_chunks"),e.each((function(e){n=n+"++"+e.print()}));for(var r=0,s=(t=simpleCart.chunk(n.substring(2),simpleCart.MAX_COOKIE_SIZE)).length;r<s;r++)createCookie(simpleCart.storagePrefix+"simpleCart_"+(1+r),t[r],e.cookieDuration);createCookie(simpleCart.storagePrefix+"simpleCart_chunks",""+t.length,e.cookieDuration)},e.initializeView=function(){var e=this;e.totalOutlets=getElementsByClassName("simpleCart_total"),e.quantityOutlets=getElementsByClassName("simpleCart_quantity"),e.cartDivs=getElementsByClassName("simpleCart_items"),e.taxCostOutlets=getElementsByClassName("simpleCart_taxCost"),e.taxRateOutlets=getElementsByClassName("simpleCart_taxRate"),e.shippingCostOutlets=getElementsByClassName("simpleCart_shippingCost"),e.finalTotalOutlets=getElementsByClassName("simpleCart_finalTotal"),e.addEventToArray(getElementsByClassName("simpleCart_checkout"),simpleCart.checkout,"click"),e.addEventToArray(getElementsByClassName("simpleCart_empty"),simpleCart.empty,"click"),e.Shelf=new Shelf,e.Shelf.readPage(),e.pageIsReady=!0},e.updateView=function(){e.updateViewTotals(),e.cartDivs&&e.cartDivs.length>0&&e.updateCartView()},e.updateViewTotals=function(){for(var t=[["quantity","none"],["total","currency"],["shippingCost","currency"],["taxCost","currency"],["taxRate","percentage"],["finalTotal","currency"]],i=0,n=t.length;i<n;i++)for(var a,r=t[i][0]+"Outlets",s=0,l=e[r].length;s<l;s++){switch(t[i][1]){case"none":default:a=""+e[t[i][0]];break;case"currency":a=e.valueToCurrencyString(e[t[i][0]]);break;case"percentage":a=e.valueToPercentageString(e[t[i][0]])}e[r][s].innerHTML=""+a}},e.updateCartView=function(){var t,i,n,a,r,s=[];t=document.createElement("div");for(var l=0,o=e.cartHeaders.length;l<o;l++){i=document.createElement("div"),r=e.cartHeaders[l].split("_"),i.innerHTML=e.print(r[0]),i.className="item"+r[0];for(var c=1,d=r.length;c<d;c++)"noheader"==r[c].toLowerCase()&&(i.style.display="none");t.appendChild(i)}t.className="cartHeaders",s[0]=t;var u="",m=0;e.each((function(r,l){m+=r.price*r.quantity,u+=" - "+r.name+" -- ( "+number_format(r.price,0,".",",")+" x "+r.quantity+" = "+number_format(r.price*r.quantity,0,".",",")+" )\n",t=document.createElement("div");for(var o=0,c=e.cartHeaders.length;o<c;o++)i=document.createElement("div"),n=e.cartHeaders[o].split("_"),a=e.createCartRow(n,r,a),i.innerHTML=a,i.className="item"+n[0],t.appendChild(i);t.className="itemContainer group",s[l+1]=t})),u+="\n\n - Tổng Tiền: "+number_format(m,0,".",",")+" (VNĐ)";try{document.getElementById("tongtien").innerText=number_format(m,0,".",",")+" (VNĐ)"}catch(e){}try{e.entry="entry_2010230860",document.getElementById(e.entry).innerHTML=u}catch(e){}for(var p=0,h=e.cartDivs.length;p<h;p++){var g=e.cartDivs[p];if(g.childNodes&&g.appendChild){for(;g.childNodes[0];)g.removeChild(g.childNodes[0]);for(var f=0,v=s.length;f<v;f++)g.appendChild(s[f])}}},e.createCartRow=function(t,i,n){switch(t[0].toLowerCase()){case"total":n=e.valueToCurrencyString(parseFloat(i.price)*parseInt(i.quantity,10));break;case"increment":n=e.valueToLink("+","javascript:;","onclick=\"simpleCart.items['"+i.id+"'].increment();\"");break;case"decrement":n=e.valueToLink("-","javascript:;","onclick=\"simpleCart.items['"+i.id+"'].decrement();\"");break;case"remove":n=e.valueToLink("","javascript:;","onclick=\"simpleCart.items['"+i.id+"'].remove();\"");break;case"price":n=e.valueToCurrencyString(i[t[0].toLowerCase()]?i[t[0].toLowerCase()]:" ");break;default:n=i[t[0].toLowerCase()]?i[t[0].toLowerCase()]:" "}for(var a=1,r=t.length;a<r;a++)switch(option=t[a].toLowerCase(),option){case"image":case"img":n=e.valueToImageString(n);break;case"input":n=e.valueToTextInput(n,"onchange=\"simpleCart.items['"+i.id+"'].set('"+t[0].toLowerCase()+"' , this.value);\"");break;case"div":case"span":case"h1":case"h2":case"h3":case"h4":case"p":n=e.valueToElement(option,n,"");break;case"noheader":break;default:error("unkown header option: "+option)}return n},e.addEventToArray=function(e,t,i){for(var n,a=0,r=e.length;a<r;a++)(n=e[a]).addEventListener?n.addEventListener(i,t,!1):n.attachEvent&&n.attachEvent("on"+i,t)},e.createHiddenElement=function(e,t){var i=document.createElement("input");return i.type="hidden",i.name=e,i.value=t,i},e.currencySymbol=function(){switch(e.currency){case CHF:return"CHF&nbsp;";case CZK:return"CZK&nbsp;";case DKK:return"DKK&nbsp;";case HUF:return"HUF&nbsp;";case NOK:return"NOK&nbsp;";case PLN:return"PLN&nbsp;";case SEK:return"SEK&nbsp;";case JPY:return"&yen;";case EUR:return"&euro;";case GBP:return"&pound;";case CHF:return"CHF&nbsp;";case THB:return"&#3647;";case USD:case VND:return"&nbsp;₫";case CAD:case AUD:case NZD:case HKD:case SGD:return"&#36;";default:return""}},e.currencyStringForPaypalCheckout=function(t){return"&#36;"==e.currencySymbol()?"$"+parseFloat(t).toFixed(2):""+parseFloat(t).toFixed(2)},e.valueToCurrencyString=function(t){var i=parseFloat(t);return isNaN(i)&&(i=0),i.toCurrency(e.currencySymbol())},e.valueToPercentageString=function(e){return parseFloat(100*e)+"%"},e.valueToImageString=function(e){return e.match(/<\s*img.*src\=/)?e:'<img src="'+e+'" />'},e.valueToTextInput=function(e,t){return'<input type="text" value="'+e+'" '+t+" />"},e.valueToLink=function(e,t,i){return'<a href="'+t+'" '+i+" >"+e+"</a>"},e.valueToElement=function(e,t,i){return"<"+e+" "+i+" > "+t+"</"+e+">"},e.hasItem=function(t){var i,n=!1;return e.each((function(a){i=!0,e.each(t,(function(e,n,r){"quantity"!==r&&"id"!==r&&t[r]!==a[r]&&(i=!1)})),i&&(n=a)})),n},e.ln={en_us:{quantity:"Quantity",price:"Price",total:"Total",decrement:"Decrement",increment:"Increment",remove:"Remove",tax:"Tax",shipping:"Shipping",image:"Image"}},e.language="en_us",e.print=function(e){var t=this;return t.ln[t.language]&&t.ln[t.language][e.toLowerCase()]?t.ln[t.language][e.toLowerCase()]:e},e.update=function(){simpleCart.isLoaded||simpleCart.load(),simpleCart.pageIsReady||simpleCart.initializeView(),e.updateTotals(),e.updateView(),e.save()},e.updateTotals=function(){e.total=0,e.quantity=0,e.each((function(t){t.quantity<1?t.remove():null!==t.quantity&&"undefined"!==t.quantity&&(e.quantity=parseInt(e.quantity,10)+parseInt(t.quantity,10)),t.price&&(e.total=parseFloat(e.total)+parseInt(t.quantity,10)*parseFloat(t.price))})),e.shippingCost=e.shipping(),e.taxCost=parseFloat(e.total)*e.taxRate,e.finalTotal=e.shippingCost+e.taxCost+e.total},e.shipping=function(){if(0===parseInt(e.quantity,10))return 0;var t=parseFloat(e.shippingFlatRate)+parseFloat(e.shippingTotalRate)*parseFloat(e.total)+parseFloat(e.shippingQuantityRate)*parseInt(e.quantity,10);return e.each((function(e){e.shipping&&("function"==typeof e.shipping?t+=parseFloat(e.shipping()):t+=parseFloat(e.shipping))})),t},e.initialize=function(){simpleCart.initializeView(),simpleCart.load(),simpleCart.update()}}function CartItem(){for(;simpleCart.items["c"+simpleCart.nextId];)simpleCart.nextId++;this.id="c"+simpleCart.nextId}function Shelf(){this.items={}}function ShelfItem(){this.id="s"+simpleCart.nextId++}function createCookie(e,t,i){if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="; expires="+n.toGMTString()}else a="";t=t.replace(/\=/g,"~"),document.cookie=e+"="+escape(t)+a+"; path=/"}function readCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return unescape(a.substring(t.length,a.length)).replace(/\~/g,"=")}return null}function eraseCookie(e){createCookie(e,"",-1)}function number_format(e,t,i,n){var a=e,r=isNaN(t=Math.abs(t))?2:t,s=null==i?",":i,l=null==n?".":n,o=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(r))+"",d=(d=c.length)>3?d%3:0;return o+(d?c.substr(0,d)+l:"")+c.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+l)+(r?s+Math.abs(a-c).toFixed(r).slice(2):"")}function error(e){try{console.log(e)}catch(e){}}imgr=[],showRandomImg=!0,labelnumposts=101,labelnumposts1=12,showPostDate=!0;var thumbnail_mode="no-float";summary_img=summary_noimg=0,relatednumposts=4,newimgwidth=29,newimgheight=19,sumtitle=35,labelsumtitle=64;var Custom="Custom",GoogleCheckout="GoogleCheckout",PayPal="PayPal",Email="Email",AustralianDollar="AUD",AUD="AUD",CanadianDollar="CAD",CAD="CAD",CzechKoruna="CZK",CZK="CZK",DanishKrone="DKK",DKK="DKK",Euro="EUR",EUR="EUR",HongKongDollar="HKD",HKD="HKD",HungarianForint="HUF",HUF="HUF",IsraeliNewSheqel="ILS",ILS="ILS",JapaneseYen="JPY",JPY="JPY",MexicanPeso="MXN",MXN="MXN",NorwegianKrone="NOK",NOK="NOK",NewZealandDollar="NZD",NZD="NZD",PolishZloty="PLN",PLN="PLN",PoundSterling="GBP",GBP="GBP",SingaporeDollar="SGD",SGD="SGD",SwedishKrona="SEK",SEK="SEK",SwissFranc="CHF",CHF="CHF",ThaiBaht="THB",THB="THB",USDollar="USD",USD="USD",VND="VND",CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},a=function(){},r=n.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var a=0;a<e;a++)t[n+a>>>2]|=(i[a>>>2]>>>24-a%4*8&255)<<24-(n+a)%4*8;else if(65535<i.length)for(a=0;a<e;a+=4)t[n+a>>>2]=i[a>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new s.init(i,t)}}),l=i.enc={},o=l.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var a=t[n>>>2]>>>24-n%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(i,t/2)}},c=l.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(i,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,a=i.sigBytes,r=this.blockSize,l=a/(4*r);if(t=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*r,a=e.min(4*t,a),t){for(var o=0;o<t;o+=r)this._doProcessBlock(n,o);o=n.splice(0,t),i.sigBytes-=a}return new s.init(o,a)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}});var m=i.algo={};return i}(Math);!function(e){function t(e,t,i,n,a,r,s){return((e=e+(t&i|~t&n)+a+s)<<r|e>>>32-r)+t}function i(e,t,i,n,a,r,s){return((e=e+(t&n|i&~n)+a+s)<<r|e>>>32-r)+t}function n(e,t,i,n,a,r,s){return((e=e+(t^i^n)+a+s)<<r|e>>>32-r)+t}function a(e,t,i,n,a,r,s){return((e=e+(i^(t|~n))+a+s)<<r|e>>>32-r)+t}for(var r=CryptoJS,s=(o=r.lib).WordArray,l=o.Hasher,o=r.algo,c=[],d=0;64>d;d++)c[d]=4294967296*e.abs(e.sin(d+1))|0;o=o.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var s=0;16>s;s++){var l=e[o=r+s];e[o]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}s=this._hash.words;var o=e[r+0],d=(l=e[r+1],e[r+2]),u=e[r+3],m=e[r+4],p=e[r+5],h=e[r+6],g=e[r+7],f=e[r+8],v=e[r+9],y=e[r+10],b=e[r+11],x=e[r+12],C=e[r+13],w=e[r+14],k=e[r+15],T=t(T=s[0],_=s[1],H=s[2],O=s[3],o,7,c[0]),O=t(O,T,_,H,l,12,c[1]),H=t(H,O,T,_,d,17,c[2]),_=t(_,H,O,T,u,22,c[3]);T=t(T,_,H,O,m,7,c[4]),O=t(O,T,_,H,p,12,c[5]),H=t(H,O,T,_,h,17,c[6]),_=t(_,H,O,T,g,22,c[7]),T=t(T,_,H,O,f,7,c[8]),O=t(O,T,_,H,v,12,c[9]),H=t(H,O,T,_,y,17,c[10]),_=t(_,H,O,T,b,22,c[11]),T=t(T,_,H,O,x,7,c[12]),O=t(O,T,_,H,C,12,c[13]),H=t(H,O,T,_,w,17,c[14]),T=i(T,_=t(_,H,O,T,k,22,c[15]),H,O,l,5,c[16]),O=i(O,T,_,H,h,9,c[17]),H=i(H,O,T,_,b,14,c[18]),_=i(_,H,O,T,o,20,c[19]),T=i(T,_,H,O,p,5,c[20]),O=i(O,T,_,H,y,9,c[21]),H=i(H,O,T,_,k,14,c[22]),_=i(_,H,O,T,m,20,c[23]),T=i(T,_,H,O,v,5,c[24]),O=i(O,T,_,H,w,9,c[25]),H=i(H,O,T,_,u,14,c[26]),_=i(_,H,O,T,f,20,c[27]),T=i(T,_,H,O,C,5,c[28]),O=i(O,T,_,H,d,9,c[29]),H=i(H,O,T,_,g,14,c[30]),T=n(T,_=i(_,H,O,T,x,20,c[31]),H,O,p,4,c[32]),O=n(O,T,_,H,f,11,c[33]),H=n(H,O,T,_,b,16,c[34]),_=n(_,H,O,T,w,23,c[35]),T=n(T,_,H,O,l,4,c[36]),O=n(O,T,_,H,m,11,c[37]),H=n(H,O,T,_,g,16,c[38]),_=n(_,H,O,T,y,23,c[39]),T=n(T,_,H,O,C,4,c[40]),O=n(O,T,_,H,o,11,c[41]),H=n(H,O,T,_,u,16,c[42]),_=n(_,H,O,T,h,23,c[43]),T=n(T,_,H,O,v,4,c[44]),O=n(O,T,_,H,x,11,c[45]),H=n(H,O,T,_,k,16,c[46]),T=a(T,_=n(_,H,O,T,d,23,c[47]),H,O,o,6,c[48]),O=a(O,T,_,H,g,10,c[49]),H=a(H,O,T,_,w,15,c[50]),_=a(_,H,O,T,p,21,c[51]),T=a(T,_,H,O,x,6,c[52]),O=a(O,T,_,H,u,10,c[53]),H=a(H,O,T,_,y,15,c[54]),_=a(_,H,O,T,l,21,c[55]),T=a(T,_,H,O,f,6,c[56]),O=a(O,T,_,H,k,10,c[57]),H=a(H,O,T,_,h,15,c[58]),_=a(_,H,O,T,C,21,c[59]),T=a(T,_,H,O,m,6,c[60]),O=a(O,T,_,H,b,10,c[61]),H=a(H,O,T,_,d,15,c[62]),_=a(_,H,O,T,v,21,c[63]);s[0]=s[0]+T|0,s[1]=s[1]+_|0,s[2]=s[2]+H|0,s[3]=s[3]+O|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;i[a>>>5]|=128<<24-a%32;var r=e.floor(n/4294967296);for(i[15+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(a+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)a=i[n],i[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=l._createHelper(o),r.HmacMD5=l._createHmacHelper(o)}(Math),CartItem.prototype.set=function(e,t){"function"!=typeof this[e=e.toLowerCase()]&&"id"!==e?("quantity"==e?(t=(t=t.replace(/[^(\d|\.)]*/gi,"")).replace(/,*/gi,""),t=parseInt(t,10)):"price"==e&&(t=(t=t.replace(/[^(\d|\.)]*/gi,"")).replace(/,*/gi,""),t=parseFloat(t)),"number"==typeof t&&isNaN(t)?error("Improperly formatted input."):(t.match(/\~|\=/)&&error("Special character ~ or = not allowed: "+t),t=t.replace(/\~|\=/g,""),this[e]=t,this.checkQuantityAndPrice())):error("Cannot change "+e+", this is a reserved field."),simpleCart.update()},CartItem.prototype.increment=function(){this.quantity=parseInt(this.quantity,10)+1,simpleCart.update()},CartItem.prototype.decrement=function(){parseInt(this.quantity,10)<2?this.remove():(this.quantity=parseInt(this.quantity,10)-1,simpleCart.update())},CartItem.prototype.print=function(){var e="";return simpleCart.each(this,(function(t,i,n){e+=escape(n)+"="+escape(t)+"||"})),e.substring(0,e.length-2)},CartItem.prototype.checkQuantityAndPrice=function(){this.quantity&&null!=this.quantity&&"undefined"!=this.quantity?(this.quantity=(""+this.quantity).replace(/,*/gi,""),this.quantity=parseInt((""+this.quantity).replace(/[^(\d|\.)]*/gi,""),10),isNaN(this.quantity)&&(error("Quantity is not a number."),this.quantity=1)):(this.quantity=1,error("No quantity for item.")),this.price&&null!=this.price&&"undefined"!=this.price?(this.price=(""+this.price).replace(/,*/gi,""),this.price=parseFloat((""+this.price).replace(/[^(\d|\.)]*/gi,"")),isNaN(this.price)&&(error("Price is not a number."),this.price=0)):(this.price=0,error("No price for item or price not properly formatted."))},CartItem.prototype.parseValuesFromArray=function(e){if(e&&e.length&&e.length>0){for(var t=0,i=e.length;t<i;t++){e[t]=e[t].replace(/\|\|/g,"| |"),e[t]=e[t].replace(/\+\+/g,"+ +"),e[t].match(/\~/)&&error("Special character ~ not allowed: "+e[t]),e[t]=e[t].replace(/\~/g,"");var n=e[t].split("=");if(n.length>1){if(n.length>2)for(var a=2,r=n.length;a<r;a++)n[1]=n[1]+"="+n[a];this[unescape(n[0]).toLowerCase()]=unescape(n[1])}}return!0}return!1},CartItem.prototype.remove=function(){simpleCart.remove(this.id),simpleCart.update()},Shelf.prototype.readPage=function(){this.items={};var e,t=getElementsByClassName("simpleCart_shelfItem");me=this;for(var i=0,n=t.length;i<n;i++)e=new ShelfItem,me.checkChildren(t[i],e),me.items[e.id]=e},Shelf.prototype.checkChildren=function(e,t){if(e.childNodes)for(var i=0;e.childNodes[i];i++){var n=e.childNodes[i];if(n.className&&n.className.match(/item_[^ ]+/)){var a=/item_[^ ]+/.exec(n.className)[0].split("_");if("add"==a[1]||"Add"==a[1]){var r=[];r.push(n);var s=simpleCart.Shelf.addToCart(t.id);simpleCart.addEventToArray(r,s,"click"),n.id=t.id}else t[a[1]]=n}n.childNodes[0]&&this.checkChildren(n,t)}},Shelf.prototype.empty=function(){this.items={}},Shelf.prototype.addToCart=function(e){return function(){simpleCart.Shelf.items[e]?simpleCart.Shelf.items[e].addToCart():error("Shelf item with id of "+e+" does not exist.")}},ShelfItem.prototype.remove=function(){simpleCart.Shelf.items[this.id]=null},ShelfItem.prototype.addToCart=function(){var e,t,i=[];for(t in this)if("function"!=typeof this[t]&&"id"!==t){switch(e="",t){case"price":this[t].value?e=this[t].value:this[t].innerHTML&&(e=this[t].innerHTML),e=(e=e.replace(/[^(\d|\.)]*/gi,"")).replace(/,*/,"");break;case"image":e=this[t].src;break;default:e=this[t].value?this[t].value:this[t].innerHTML?this[t].innerHTML:this[t].src?this[t].src:this[t]}i.push(t+"="+e)}simpleCart.add(i)};var getElementsByClassName=function(e,t,i){return getElementsByClassName=document.getElementsByClassName?function(e,t,i){for(var n,a=(i=i||document).getElementsByClassName(e),r=t?new RegExp("\\b"+t+"\\b","i"):null,s=[],l=0,o=a.length;l<o;l+=1)n=a[l],r&&!r.test(n.nodeName)||s.push(n);return s}:document.evaluate?function(e,t,i){t=t||"*",i=i||document;for(var n,a,r=e.split(" "),s="",l="http://www.w3.org/1999/xhtml",o=document.documentElement.namespaceURI===l?l:null,c=[],d=0,u=r.length;d<u;d+=1)s+="[contains(concat(' ', @class, ' '), ' "+r[d]+" ')]";try{n=document.evaluate(".//"+t+s,i,o,0,null)}catch(e){n=document.evaluate(".//"+t+s,i,null,0,null)}for(;a=n.iterateNext();)c.push(a);return c}:function(e,t,i){t=t||"*",i=i||document;for(var n,a,r=e.split(" "),s=[],l="*"===t&&i.all?i.all:i.getElementsByTagName(t),o=[],c=0,d=r.length;c<d;c+=1)s.push(new RegExp("(^|\\s)"+r[c]+"(\\s|$)"));for(var u=0,m=l.length;u<m;u+=1){n=l[u],a=!1;for(var p=0,h=s.length;p<h&&(a=s[p].test(n.className));p+=1);a&&o.push(n)}return o},getElementsByClassName(e,t,i)};String.prototype.reverse=function(){return this.split("").reverse().join("")},Number.prototype.withCommas=function(){for(var e=6,t=parseFloat(this).toFixed(0).toString().reverse();e<t.length;)t=t.substring(0,e)+","+t.substring(e),e+=4;return t.reverse()},Number.prototype.toCurrency=function(){return this.withCommas()+(arguments[0]?arguments[0]:"$")};var simpleCart=new Cart;"undefined"!=typeof jQuery?$(document).ready((function(){simpleCart.initialize()})):"undefined"!=typeof Prototype&&Event.observe(window,"load",(function(){simpleCart.initialize()}))
